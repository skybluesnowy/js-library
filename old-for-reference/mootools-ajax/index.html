<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">
<head>
	<title>Javascript - Simple Mootools / AJAX example</title>
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
	
	<style type="text/css">
		body {font-family: arial, helvetica, sans-serif; margin: 15px;}
		strong {font-weight: bold;}
		h1 {font-size: 120%; font-weight: bold;}
		#log {background: #f8f8f8; border: 1px solid #d6d6d6; border-left-color: #e4e4e4; border-top-color: #e4e4e4; padding: 0.3em; margin-top: 10px;}
		a {color: #333;}
		a:focus {outline: none;}
		p {padding: 10px; background: #eee;}
		p.subhdr {background: #fff; padding: 0;}
		.bg {background: #000; color: #fff;}
		.bg a {color: #ccc;}
	</style>
	<script src="../static/js/moo/mootools-1.2.5-core-yc.js" type="text/javascript"></script>
	<script type="text/javascript">
		window.addEvent('domready', function(){
			var theID = null;

//Set up a click event on the links
			$$('#container a').addEvent('click', function(e){
				Event(e).stop();
// Using a variable to get the id of the element clicked				
				var thisID = this.id;
// Just a bit of dynamic styling to make your experience dead funky like
				var parent = document.id(thisID).getParent();
				$$('#container p').removeClass("bg");
				parent.addClass("bg");
//Work out which file to load...
				var url = "test" + thisID + ".txt";
//... and run the AJAX function
				var myAjax = new Request({
					url: url,
					method: 'get',
					onComplete: function(responseText) {
						document.id('log').set('html', responseText);
					}
				});
				myAjax.send();
			});
		});
	</script>
</head>
<body>
<h1>Javascript - simple Mootools / AJAX example</h1>
<p class="subhdr"><strong>Default state:</strong> default message displayed</p>
<p class="subhdr"><strong>Actions:</strong> Click on links to call external file, with some basic visual effects.</p>
<p class="subhdr"><strong>Requirements:</strong> Mootools 1.2.5 core<br /><br /></p>
<div id="container">
	<p class=""><a id="one" href="#">Click here</a> to load Ajax request 1</p>
	<p class=""><a id="two" href="#">Click here</a> to load Ajax request 2</p>
</div>	
<div id="log">Click on a link to update this text</div>

</body>
</html>
