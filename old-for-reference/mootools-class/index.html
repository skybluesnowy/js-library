<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">
<head>
	<title>Javascript - Simple Mootools class example</title>
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
	<style type="text/css">
		body {font-family: arial, helvetica, sans-serif; margin: 15px;}
		strong {font-weight: bold;}
		h1 {font-size: 120%; font-weight: bold;}
		#div-one, #div-two {border: 1px red solid;}
		.bg-color1 {background: #ccc;}
		.bg-color2 {background: #eee;}
	</style>
	<script src="../static/js/moo/mootools-1.2.5-core-yc.js" type="text/javascript"></script>
	<script type="text/javascript">
	/* New class */
	toggleStuff = new Class({
		
		Implements: [Options],
			options: {
				border: null,
				container: null,
				bgcolorClass: null
			},
		
		/* Initialize the in-class function - runFunc*/
		initialize: function(options){
			this.setOptions(options);
			this.runFunc();
		},
		
		/* The in-class function*/
		runFunc: function() {
			/* set up variable to handle out of scope 'this' */
			var self = this;

			/* the function flesh */
			window.addEvent('domready', function(){
				document.id(self.options.container).addEvent('click', function(event,options){
					this.addClass(self.options.bgcolorClass);
					this.setStyle('border-color', self.options.border);
				});
			});	
		}
		
	});
	
	/* New version (1) of toggleStuff */
	var toggleStuffOne = new toggleStuff({
		container: 'div-one',
		border: '#f0f',
		bgcolorClass : 'bg-color1'
	});
	/* New version (2) of toggleStuff */	
	var toggleStuffTwo = new toggleStuff({
		container: 'div-two',
		border: '#ff0',
		bgcolorClass : 'bg-color2'
	});
	
	</script>
</head>
<body>
<h1>Javascript - simple Mootools class example</h1>
<p class="subhdr"><strong>Default state:</strong> panels styled with red border, no class associated</p>
<p class="subhdr"><strong>Actions:</strong> Click div to call new version of toggleStuff class, changes border, adds a CSS class.</p>
<p class="subhdr"><strong>Requirements:</strong> Mootools 1.2.5 core<br /><br /></p>
<div id="div-one">div one</div>
<p></p>
<div id="div-two">div two</div>
</body>
</html>
