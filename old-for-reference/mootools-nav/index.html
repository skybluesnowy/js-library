<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">
<head>
	<title>Javascript - Mootools flyout menu using mouseover and mouseleave</title>
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
	<link rel="stylesheet" type="text/css" href="../static/css/reset.css" />
	<style type="text/css">
		body {font-family: arial, helvetica, sans-serif; margin: 15px;}
		strong {font-weight: bold;}
		h1 {font-size: 120%; font-weight: bold;}
		p {clear: left; padding: 8px 0 0; font-size: 90%;}
		ul {width: 80px;}
			ul li {padding: 4px 10px; /*border: 1px #ccc solid;*/ background: #ccc; position: relative;}
			ul li a {color: #fff; text-decoration: underline}
				ul li a:hover {text-decoration: none;}
				ul li ul {width: 300px; position: absolute; left: 80px; top: 0;}
					ul li ul li {border-bottom: 1px #333 solid; background: #999; color: #fff;}
		.more {color: #f00;}
		#message {padding: 100px 0 0 ;}
			#message span {font-weight: bold;}
	</style>
	<script src="../static/js/moo/mootools-1.2.5-core-yc.js" type="text/javascript"></script>

	<script type="text/javascript">
		window.addEvent('domready', function() {
			$$('ul li.mainnav ul').setStyle('display', 'none');

//displays message			
			$$('ul li a').each(function(el){
				el.addEvent('click', function(e){
					var msg = this.get('html');
					$('message').set('html', 'You clicked the link: <span>' + msg + '</span>');
				});
			});

// dynamically writes highlights parent links if it contains children links			
			$$('ul li.mainnav ul').each(function(el){
				var hasC = el.getParent('li');
				var hasCspan = hasC.getChildren('span');
				hasCspanHTML = hasCspan.get('html');
				hasCspan.set('html', hasCspanHTML + ' &gt;');
			});
			
//The mouseover/mouseleave bit						
			$$('ul li.mainnav').each(function(el){
				el.addEvent('mouseover',function(e){
					$$('ul li.mainnav ul').setStyle('display', 'none');
					this.getChildren('ul').setStyle('display', 'block');
				});
				el.addEvent('mouseleave',function(e){
					$$('ul li.mainnav ul').setStyle('display', 'none');
				});
			});
	
		});
	</script>
</head>
<body>
<h1>Javascript - Mootools flyout menu using mouseover and mouseleave</h1>
<p class="subhdr"><strong>Default state:</strong> Static nav, items with subnav highlighted on domready</p>
<p class="subhdr"><strong>Actions:</strong> Hover over main nav to reveal subnav</p>
<p class="subhdr"><strong>Requirements:</strong> Mootools 1.2.5 core, javascript enabled<br /><br /></p>
<ul>
	<li class="mainnav"><span>link 1</span>
		<ul class="subnav">
			<li><a href="#">link 1 sublink 1</a></li>
			<li><a href="#">link 1 sublink 2</a></li>
			<li><a href="#">link 1 sublink 3</a></li>
			<li><a href="#">link 1 sublink 4</a></li>
		</ul>
	</li>
	<li class="mainnav"><span>link 2</span>
		<ul class="subnav">
			<li><a href="#">link 2 sublink 1</a></li>
			<li><a href="#">link 2 sublink 2</a></li>
			<li><a href="#">link 2 sublink 3</a></li>
		</ul>
	</li>
	<li class="mainnav"><span>link 3</span>
		<ul class="subnav">
			<li><a href="#">link 3 sublink 1</a></li>
		</ul>
	</li>
	<li class="mainnav"><span><a href="#">link 4</a></span></li>
	<li class="mainnav"><span>link 5</span>
		<ul class="subnav">
			<li><a href="#">link 5 sublink 1</a></li>
			<li><a href="#">link 5 sublink 2</a></li>
		</ul>
	</li>
</ul>

<div id="message">You haven't clicked on anything</div>

</body>
</html>
